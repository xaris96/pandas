# Defines which version of the PyDBAdditionalThreadInfo we'll use.
from _pydevd_bundle.pydevd_constants import (
    ENV_FALSE_LOWER_VALUES,
    ENV_TRUE_LOWER_VALUES,
    USE_CYTHON_FLAG,
)

if USE_CYTHON_FLAG in ENV_TRUE_LOWER_VALUES:
    # We must import the cython version if forcing cython
    from _pydevd_bundle.pydevd_cython_wrapper import (
        _set_additional_thread_info_lock,  # @UnusedImport
    )
    from _pydevd_bundle.pydevd_cython_wrapper import (  # @UnusedImport
        PyDBAdditionalThreadInfo,
        any_thread_stepping,
        remove_additional_info,
        set_additional_thread_info,
    )

elif USE_CYTHON_FLAG in ENV_FALSE_LOWER_VALUES:
    # Use the regular version if not forcing cython
    from _pydevd_bundle.pydevd_additional_thread_info_regular import (
        _set_additional_thread_info_lock,  # @UnusedImport @Reimport
    )
    from _pydevd_bundle.pydevd_additional_thread_info_regular import (  # @UnusedImport @Reimport
        PyDBAdditionalThreadInfo,
        any_thread_stepping,
        remove_additional_info,
        set_additional_thread_info,
    )

else:
    # Regular: use fallback if not found (message is already given elsewhere).
    try:
        from _pydevd_bundle.pydevd_cython_wrapper import (
            PyDBAdditionalThreadInfo,
            _set_additional_thread_info_lock,
            any_thread_stepping,
            remove_additional_info,
            set_additional_thread_info,
        )
    except ImportError:
        from _pydevd_bundle.pydevd_additional_thread_info_regular import (
            _set_additional_thread_info_lock,  # @UnusedImport
        )
        from _pydevd_bundle.pydevd_additional_thread_info_regular import (  # @UnusedImport
            PyDBAdditionalThreadInfo,
            any_thread_stepping,
            remove_additional_info,
            set_additional_thread_info,
        )
