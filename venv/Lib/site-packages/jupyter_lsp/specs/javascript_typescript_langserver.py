from .utils import NodeModuleSpec


class JavascriptTypescriptLanguageServer(NodeModuleSpec):
    node_module = key = "javascript-typescript-langserver"
    script = ["lib", "language-server-stdio.js"]
    languages = [
        "javascript",
        "jsx",
        "typescript",
        "typescript-jsx",
        "typescriptreact",
        "javascriptreact",
    ]
    spec = dict(
        display_name=key + " (deprecated)",
        mime_types=[
            "application/typescript",
            "text/typescript-jsx",
            "text/javascript",
            "text/ecmascript",
            "application/javascript",
            "application/x-javascript",
            "application/ecmascript",
            "text/jsx",
        ],
        urls=dict(
            home=f"https://github.com/sourcegraph/{key}",
            issues=f"https://github.com/sourcegraph/{key}/issues",
        ),
        install=dict(
            npm=f"npm install --save-dev {key}",
            yarn=f"yarn add --dev {key}",
            jlpm=f"jlpm add --dev {key}",
        ),
    )
