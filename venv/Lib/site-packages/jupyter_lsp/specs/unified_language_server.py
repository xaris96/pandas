from .utils import NodeModuleSpec


class UnifiedLanguageServer(NodeModuleSpec):
    node_module = key = "unified-language-server"
    script = ["src", "server.js"]
    args = ["--parser=remark-parse", "--stdio"]
    languages = ["markdown", "ipythongfm", "gfm"]
    spec = dict(
        display_name=key,
        mime_types=["text/x-gfm", "text/x-ipythongfm", "text/x-markdown"],
        urls=dict(
            home=f"https://github.com/unifiedjs/{key}",
            issues=f"https://github.com/unifiedjs/{key}/issues",
        ),
        install=dict(
            npm=f"npm install --save-dev {key}",
            yarn=f"yarn add --dev {key}",
            jlpm=f"jlpm add --dev {key}",
        ),
    )
